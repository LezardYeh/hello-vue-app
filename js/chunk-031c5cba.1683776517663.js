(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-031c5cba"],{1433:function(t,e,a){"use strict";var s=a("c293"),r=a.n(s);r.a},"22d0":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("BaseLayout",{attrs:{isFunction:"true",hasBottomButton:"true",hasHeaderBar:"true"},on:{"click-back":t.back}},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text"},[t._v("請購單號")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchData.requestNoStart,expression:"searchData.requestNoStart"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.searchData.requestNoStart},on:{input:function(e){e.target.composing||t.$set(t.searchData,"requestNoStart",e.target.value)}}}),a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text"},[t._v("~")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchData.requestNoEnd,expression:"searchData.requestNoEnd"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.searchData.requestNoEnd},on:{input:function(e){e.target.composing||t.$set(t.searchData,"requestNoEnd",e.target.value)}}})]),a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text"},[t._v("需求日期")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchData.requestDateStart,expression:"searchData.requestDateStart"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.searchData.requestDateStart},on:{input:function(e){e.target.composing||t.$set(t.searchData,"requestDateStart",e.target.value)}}}),a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text"},[t._v("~")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchData.requestDateEnd,expression:"searchData.requestDateEnd"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.searchData.requestDateEnd},on:{input:function(e){e.target.composing||t.$set(t.searchData,"requestDateEnd",e.target.value)}}})]),a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text"},[t._v("請購部門")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchData.applyDepartment,expression:"searchData.applyDepartment"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.searchData.applyDepartment},on:{input:function(e){e.target.composing||t.$set(t.searchData,"applyDepartment",e.target.value)}}})]),a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text"},[t._v("請購日期")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchData.applyDate,expression:"searchData.applyDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.searchData.applyDate},on:{input:function(e){e.target.composing||t.$set(t.searchData,"applyDate",e.target.value)}}})]),a("div",{staticClass:"list-group",staticStyle:{"text-align":"left"}},[t._l(t.gridData,function(e,s){return[a("div",{key:e.PurchaseRequestNo,staticClass:"list-group-item list-group-item-action"},[a("div",{staticClass:"d-flex w-100 justify-content-between",staticStyle:{background:"#EEE",padding:"5px 5px 0px 5px"}},[a("b",{staticClass:"mb-1"},[t._v("\n            單號: "+t._s(e.PurchaseRequestNo)+"\n          ")]),a("h5",{staticClass:"badge badge-success",staticStyle:{width:"50%",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","word-break":"break-all"}},[a("span",{staticStyle:{"font-size":"1rem","font-weight":"400"}},[t._v(t._s(e.Department))])])]),a("div",{staticClass:"d-flex flex-row"},[a("p",{staticClass:"mb-1 w-100",staticStyle:{"backgroun-color":"#EEE","word-break":"break-all"}},[a("span",{staticClass:"badge badge-light"},[t._v("請購日:"+t._s(e.ApplyDate))]),a("span",{staticClass:"badge badge-light"},[t._v("需求日:"+t._s(e.RequestDate))])])]),a("div",{staticClass:"d-flex flex-row"},[a("span",{staticClass:"badge badge-primary"},[t._v("核准日:"+t._s(e.ApproveDate))])]),e.Supplier?a("small",{staticStyle:{color:"#888",float:"right"}},[t._v("供應商: "+t._s(e.Supplier))]):t._e()])]})],2),a("button",{staticClass:"btn-xl btn btn-primary btn-circle",attrs:{type:"button"},on:{click:t.getData}},[a("i",{staticClass:"fas fa-search"})])])},r=[],n=(a("8e6e"),a("456d"),a("ac6a"),a("ade3"));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach(function(e){Object(n["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var p={name:"PurchaseRequestQuery",data:function(){return{searchData:{companyId:this.$store.state.companyId,requestNoStart:"",requestNoEnd:"",requestDateStart:function(){var t=new Date;return t.setMonth(t.getMonth()-1),t.toISOString().slice(0,10)}(),requestDateEnd:(new Date).toISOString().slice(0,10),applyDepartment:"",applyDate:null},gridData:[],autocomplete:{requestNoStart:[],requestNoEnd:[],applyDepartment:[]}}},methods:{back:function(){this.$router.go(-1)},getData:function(){var t=this;this.startLoad(),t.$http.post("/WebApp/PurchaseRequestQuery/GetData",i({},this.searchData)).then(function(e){t.gridData=e.data,t.gridData.forEach(function(t){var e=function(e){if(t[e]){var a=new Date(parseInt(t[e].substr(6)));t[e]=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()}};e("ApplyDate"),e("RequestDate"),e("ApproveDate")}),t.endLoad()}).catch(function(e){t.endLoad()})},getPurchaseRequestNoAuto:function(t,e){var a=this;a.$http.post("/WebApp/PurchaseRequestQuery/GetPurchaseRequestNoAuto",{companyId:this.companyId,term:t}).then(function(t){t.data})},getApplyDepartmentAuto:function(t){var e=this;e.$http.post("/WebApp/PurchaseRequestQuery/GetApplyDepartmentAuto",{companyId:this.companyId,term:t}).then(function(t){e.autocomplete.applyDepartment=t.data})}},mounted:function(){}},c=p,u=(a("1433"),a("2877")),l=Object(u["a"])(c,s,r,!1,null,"1e769668",null);e["default"]=l.exports},c293:function(t,e,a){}}]);
//# sourceMappingURL=chunk-031c5cba.1683776517663.js.map